{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { ElementRef, Component, ViewChild, Input, NgModule, PlatformRef, VERSION, enableProdMode, NgZone } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { __awaiter } from 'tslib';\nimport * as i1 from '@angular/router';\nimport { Router } from '@angular/router';\nimport { loadRemoteModule } from '@angular-architects/module-federation';\nimport { platformBrowser } from '@angular/platform-browser'; // eslint-disable-next-line @angular-eslint/component-class-suffix\n\nconst _c0 = [\"vc\"];\n\nclass WebComponentWrapper {\n  constructor(route) {\n    this.route = route;\n  }\n\n  ngOnChanges() {\n    if (!this.element) return;\n    this.populateProps();\n  }\n\n  populateProps() {\n    for (const prop in this.props) {\n      this.element[prop] = this.props[prop];\n    }\n  }\n\n  setupEvents() {\n    for (const event in this.events) {\n      this.element.addEventListener(event, this.events[event]);\n    }\n  }\n\n  ngAfterContentInit() {\n    var _a;\n\n    return __awaiter(this, void 0, void 0, function* () {\n      const options = (_a = this.options) !== null && _a !== void 0 ? _a : this.route.snapshot.data;\n\n      try {\n        yield loadRemoteModule(options);\n        this.element = document.createElement(options.elementName);\n        this.populateProps();\n        this.setupEvents();\n        this.vc.nativeElement.appendChild(this.element);\n      } catch (error) {\n        console.error(error);\n      }\n    });\n  }\n\n}\n\nWebComponentWrapper.ɵfac = function WebComponentWrapper_Factory(t) {\n  return new (t || WebComponentWrapper)(i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n};\n\nWebComponentWrapper.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: WebComponentWrapper,\n  selectors: [[\"mft-wc-wrapper\"]],\n  viewQuery: function WebComponentWrapper_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7, ElementRef);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.vc = _t.first);\n    }\n  },\n  inputs: {\n    options: \"options\",\n    props: \"props\",\n    events: \"events\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 2,\n  vars: 0,\n  consts: [[\"vc\", \"\"]],\n  template: function WebComponentWrapper_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"div\", null, 0);\n    }\n  },\n  encapsulation: 2\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(WebComponentWrapper, [{\n    type: Component,\n    args: [{\n      selector: 'mft-wc-wrapper',\n      template: '<div #vc></div>'\n    }]\n  }], function () {\n    return [{\n      type: i1.ActivatedRoute\n    }];\n  }, {\n    vc: [{\n      type: ViewChild,\n      args: ['vc', {\n        read: ElementRef,\n        static: true\n      }]\n    }],\n    options: [{\n      type: Input\n    }],\n    props: [{\n      type: Input\n    }],\n    events: [{\n      type: Input\n    }]\n  });\n})();\n\nclass ModuleFederationToolsModule {}\n\nModuleFederationToolsModule.ɵfac = function ModuleFederationToolsModule_Factory(t) {\n  return new (t || ModuleFederationToolsModule)();\n};\n\nModuleFederationToolsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: ModuleFederationToolsModule\n});\nModuleFederationToolsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[CommonModule]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ModuleFederationToolsModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule],\n      declarations: [WebComponentWrapper],\n      exports: [WebComponentWrapper]\n    }]\n  }], null, null);\n})();\n\nconst packageNamespace = '@angular-architects/module-federation-tools';\n\nfunction getGlobalState() {\n  const globalState = window;\n  globalState[packageNamespace] = globalState[packageNamespace] || {};\n  return globalState[packageNamespace];\n}\n\nfunction getGlobalStateSlice(selector) {\n  const globalState = getGlobalState();\n  return selector ? selector(globalState) : globalState;\n}\n\nfunction setGlobalStateSlice(slice) {\n  return Object.assign(getGlobalState(), slice);\n}\n\nfunction startsWith(prefix) {\n  return url => {\n    const fullUrl = url.map(u => u.path).join('/');\n\n    if (fullUrl.startsWith(prefix)) {\n      return {\n        consumed: url\n      };\n    }\n\n    return null;\n  };\n}\n\nfunction endsWith(prefix) {\n  return url => {\n    const fullUrl = url.map(u => u.path).join('/');\n\n    if (fullUrl.endsWith(prefix)) {\n      return {\n        consumed: url\n      };\n    }\n\n    return null;\n  };\n}\n\nfunction connectRouter(router, useHash = false) {\n  let url;\n\n  if (!useHash) {\n    url = `${location.pathname.substr(1)}${location.search}`;\n    router.navigateByUrl(url);\n    window.addEventListener('popstate', () => {\n      router.navigateByUrl(url);\n    });\n  } else {\n    url = `${location.hash.substr(1)}${location.search}`;\n    router.navigateByUrl(url);\n    window.addEventListener('hashchange', () => {\n      router.navigateByUrl(url);\n    });\n  }\n}\n\nlet ngZoneSharing = true;\nlet platformSharing = true;\nlet legacyMode = true;\n\nfunction getMajor(version) {\n  const pre = version.match(/\\d+/)[0];\n  const post = version.match(/-.*/);\n\n  if (!pre) {\n    throw new Error('Cound not identify major version: ' + version);\n  }\n\n  if (post) {\n    return pre + post[0];\n  }\n\n  return pre;\n}\n\nfunction getLegacyPlatformCache() {\n  const platformCache = window;\n  platformCache.platform = platformCache.platform || {};\n  return platformCache;\n}\n\nfunction getLegacyPlatform(key) {\n  const platform = getLegacyPlatformCache().platform[key];\n  /**\r\n   * If dependencies are not shared, platform with same version is different\r\n   * and shared platform will not be returned.\r\n   */\n\n  return platform instanceof PlatformRef ? platform : null;\n}\n\nfunction setLegacyPlatform(key, platform) {\n  getLegacyPlatformCache().platform[key] = platform;\n}\n\nfunction getLegacyNgZone() {\n  return window['ngZone'];\n}\n\nfunction setLegacyNgZone(zone) {\n  window['ngZone'] = zone;\n}\n/**\r\n * LEGACY IMPLEMENTATIONS END\r\n */\n\n\nfunction getPlatformCache() {\n  return getGlobalStateSlice(state => state.platformCache) || setGlobalStateSlice({\n    platformCache: new Map()\n  }).platformCache;\n}\n\nfunction setPlatform(version, platform) {\n  if (platformSharing) {\n    legacyMode && setLegacyPlatform(version.full, platform);\n    getPlatformCache().set(version, platform);\n  }\n}\n\nfunction getPlatform(options) {\n  if (!platformSharing) {\n    return options.platformFactory();\n  }\n\n  const versionResult = options.version();\n  const version = versionResult === VERSION.full ? VERSION : versionResult;\n  const versionKey = typeof version === 'string' ? version : version.full;\n  let platform = getPlatformCache().get(version) || legacyMode && getLegacyPlatform(versionKey);\n\n  if (!platform) {\n    platform = options.platformFactory();\n    setPlatform(VERSION, platform);\n  }\n\n  return platform;\n}\n\nfunction getNgZone() {\n  return getGlobalStateSlice(state => state.ngZone) || getLegacyNgZone();\n}\n\nfunction shareNgZone(zone) {\n  if (ngZoneSharing) {\n    legacyMode && setLegacyNgZone(zone);\n    setGlobalStateSlice({\n      ngZone: zone\n    });\n  }\n}\n\nfunction bootstrap(module, options) {\n  var _a;\n\n  ngZoneSharing = options.ngZoneSharing !== false;\n  platformSharing = options.platformSharing !== false;\n  legacyMode = options.activeLegacyMode !== false;\n\n  options.platformFactory = options.platformFactory || (() => platformBrowser());\n\n  options.version = options.version || (() => VERSION);\n\n  options.production && enableProdMode();\n\n  if (ngZoneSharing && !((_a = options.compilerOptions) === null || _a === void 0 ? void 0 : _a.ngZone)) {\n    options.compilerOptions = options.compilerOptions || {};\n    options.compilerOptions.ngZone = getNgZone();\n  }\n\n  return getPlatform(options).bootstrapModule(module, options.compilerOptions).then(ref => {\n    if (options.appType === 'shell') {\n      shareShellZone(ref.injector);\n    } else if (options.appType === 'microfrontend') {\n      connectMicroFrontendRouter(ref.injector);\n    }\n\n    return ref;\n  });\n}\n\nfunction shareShellZone(injector) {\n  const ngZone = injector.get(NgZone, null);\n\n  if (!ngZone) {\n    console.warn('No NgZone to share found');\n    return;\n  }\n\n  shareNgZone(ngZone);\n}\n\nfunction connectMicroFrontendRouter(injector) {\n  const router = injector.get(Router);\n\n  if (!router) {\n    console.warn('No router to connect found');\n    return;\n  }\n\n  connectRouter(router);\n}\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\n\nexport { ModuleFederationToolsModule, WebComponentWrapper, bootstrap, connectRouter, endsWith, getMajor, shareNgZone, startsWith };","map":{"version":3,"names":["i0","ElementRef","Component","ViewChild","Input","NgModule","PlatformRef","VERSION","enableProdMode","NgZone","CommonModule","__awaiter","i1","Router","loadRemoteModule","platformBrowser","WebComponentWrapper","constructor","route","ngOnChanges","element","populateProps","prop","props","setupEvents","event","events","addEventListener","ngAfterContentInit","_a","options","snapshot","data","document","createElement","elementName","vc","nativeElement","appendChild","error","console","ɵfac","ActivatedRoute","ɵcmp","type","args","selector","template","read","static","ModuleFederationToolsModule","ɵmod","ɵinj","imports","declarations","exports","packageNamespace","getGlobalState","globalState","window","getGlobalStateSlice","setGlobalStateSlice","slice","Object","assign","startsWith","prefix","url","fullUrl","map","u","path","join","consumed","endsWith","connectRouter","router","useHash","location","pathname","substr","search","navigateByUrl","hash","ngZoneSharing","platformSharing","legacyMode","getMajor","version","pre","match","post","Error","getLegacyPlatformCache","platformCache","platform","getLegacyPlatform","key","setLegacyPlatform","getLegacyNgZone","setLegacyNgZone","zone","getPlatformCache","state","Map","setPlatform","full","set","getPlatform","platformFactory","versionResult","versionKey","get","getNgZone","ngZone","shareNgZone","bootstrap","module","activeLegacyMode","production","compilerOptions","bootstrapModule","then","ref","appType","shareShellZone","injector","connectMicroFrontendRouter","warn"],"sources":["D:/Code/ProjectMS-MFE-2022Theory/Project-MS-MFE-2022Theory/src-microfrontends/micro-frontend-product-detail/node_modules/@angular-architects/module-federation-tools/fesm2015/angular-architects-module-federation-tools.js"],"sourcesContent":["import * as i0 from '@angular/core';\nimport { ElementRef, Component, ViewChild, Input, NgModule, PlatformRef, VERSION, enableProdMode, NgZone } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { __awaiter } from 'tslib';\nimport * as i1 from '@angular/router';\nimport { Router } from '@angular/router';\nimport { loadRemoteModule } from '@angular-architects/module-federation';\nimport { platformBrowser } from '@angular/platform-browser';\n\n// eslint-disable-next-line @angular-eslint/component-class-suffix\r\nclass WebComponentWrapper {\r\n    constructor(route) {\r\n        this.route = route;\r\n    }\r\n    ngOnChanges() {\r\n        if (!this.element)\r\n            return;\r\n        this.populateProps();\r\n    }\r\n    populateProps() {\r\n        for (const prop in this.props) {\r\n            this.element[prop] = this.props[prop];\r\n        }\r\n    }\r\n    setupEvents() {\r\n        for (const event in this.events) {\r\n            this.element.addEventListener(event, this.events[event]);\r\n        }\r\n    }\r\n    ngAfterContentInit() {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const options = (_a = this.options) !== null && _a !== void 0 ? _a : this.route.snapshot.data;\r\n            try {\r\n                yield loadRemoteModule(options);\r\n                this.element = document.createElement(options.elementName);\r\n                this.populateProps();\r\n                this.setupEvents();\r\n                this.vc.nativeElement.appendChild(this.element);\r\n            }\r\n            catch (error) {\r\n                console.error(error);\r\n            }\r\n        });\r\n    }\r\n}\r\nWebComponentWrapper.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.0\", ngImport: i0, type: WebComponentWrapper, deps: [{ token: i1.ActivatedRoute }], target: i0.ɵɵFactoryTarget.Component });\r\nWebComponentWrapper.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.0.0\", type: WebComponentWrapper, selector: \"mft-wc-wrapper\", inputs: { options: \"options\", props: \"props\", events: \"events\" }, viewQueries: [{ propertyName: \"vc\", first: true, predicate: [\"vc\"], descendants: true, read: ElementRef, static: true }], usesOnChanges: true, ngImport: i0, template: '<div #vc></div>', isInline: true });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.0\", ngImport: i0, type: WebComponentWrapper, decorators: [{\r\n            type: Component,\r\n            args: [{\r\n                    selector: 'mft-wc-wrapper',\r\n                    template: '<div #vc></div>',\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i1.ActivatedRoute }]; }, propDecorators: { vc: [{\r\n                type: ViewChild,\r\n                args: ['vc', { read: ElementRef, static: true }]\r\n            }], options: [{\r\n                type: Input\r\n            }], props: [{\r\n                type: Input\r\n            }], events: [{\r\n                type: Input\r\n            }] } });\n\nclass ModuleFederationToolsModule {\r\n}\r\nModuleFederationToolsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.0\", ngImport: i0, type: ModuleFederationToolsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nModuleFederationToolsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.0.0\", ngImport: i0, type: ModuleFederationToolsModule, declarations: [WebComponentWrapper], imports: [CommonModule], exports: [WebComponentWrapper] });\r\nModuleFederationToolsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.0.0\", ngImport: i0, type: ModuleFederationToolsModule, imports: [[\r\n            CommonModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.0\", ngImport: i0, type: ModuleFederationToolsModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        CommonModule\r\n                    ],\r\n                    declarations: [\r\n                        WebComponentWrapper\r\n                    ],\r\n                    exports: [\r\n                        WebComponentWrapper\r\n                    ]\r\n                }]\r\n        }] });\n\nconst packageNamespace = '@angular-architects/module-federation-tools';\r\nfunction getGlobalState() {\r\n    const globalState = window;\r\n    globalState[packageNamespace] = globalState[packageNamespace] || {};\r\n    return globalState[packageNamespace];\r\n}\r\nfunction getGlobalStateSlice(selector) {\r\n    const globalState = getGlobalState();\r\n    return selector ? selector(globalState) : globalState;\r\n}\r\nfunction setGlobalStateSlice(slice) {\r\n    return Object.assign(getGlobalState(), slice);\r\n}\n\nfunction startsWith(prefix) {\r\n    return (url) => {\r\n        const fullUrl = url.map(u => u.path).join('/');\r\n        if (fullUrl.startsWith(prefix)) {\r\n            return ({ consumed: url });\r\n        }\r\n        return null;\r\n    };\r\n}\r\nfunction endsWith(prefix) {\r\n    return (url) => {\r\n        const fullUrl = url.map(u => u.path).join('/');\r\n        if (fullUrl.endsWith(prefix)) {\r\n            return ({ consumed: url });\r\n        }\r\n        return null;\r\n    };\r\n}\r\nfunction connectRouter(router, useHash = false) {\r\n    let url;\r\n    if (!useHash) {\r\n        url = `${location.pathname.substr(1)}${location.search}`;\r\n        router.navigateByUrl(url);\r\n        window.addEventListener('popstate', () => {\r\n            router.navigateByUrl(url);\r\n        });\r\n    }\r\n    else {\r\n        url = `${location.hash.substr(1)}${location.search}`;\r\n        router.navigateByUrl(url);\r\n        window.addEventListener('hashchange', () => {\r\n            router.navigateByUrl(url);\r\n        });\r\n    }\r\n}\n\nlet ngZoneSharing = true;\r\nlet platformSharing = true;\r\nlet legacyMode = true;\r\nfunction getMajor(version) {\r\n    const pre = version.match(/\\d+/)[0];\r\n    const post = version.match(/-.*/);\r\n    if (!pre) {\r\n        throw new Error('Cound not identify major version: ' + version);\r\n    }\r\n    if (post) {\r\n        return pre + post[0];\r\n    }\r\n    return pre;\r\n}\r\nfunction getLegacyPlatformCache() {\r\n    const platformCache = window;\r\n    platformCache.platform = platformCache.platform || {};\r\n    return platformCache;\r\n}\r\nfunction getLegacyPlatform(key) {\r\n    const platform = getLegacyPlatformCache().platform[key];\r\n    /**\r\n     * If dependencies are not shared, platform with same version is different\r\n     * and shared platform will not be returned.\r\n     */\r\n    return platform instanceof PlatformRef ? platform : null;\r\n}\r\nfunction setLegacyPlatform(key, platform) {\r\n    getLegacyPlatformCache().platform[key] = platform;\r\n}\r\nfunction getLegacyNgZone() {\r\n    return window['ngZone'];\r\n}\r\nfunction setLegacyNgZone(zone) {\r\n    window['ngZone'] = zone;\r\n}\r\n/**\r\n * LEGACY IMPLEMENTATIONS END\r\n */\r\nfunction getPlatformCache() {\r\n    return getGlobalStateSlice((state) => state.platformCache) || setGlobalStateSlice({\r\n        platformCache: new Map()\r\n    }).platformCache;\r\n}\r\nfunction setPlatform(version, platform) {\r\n    if (platformSharing) {\r\n        legacyMode && setLegacyPlatform(version.full, platform);\r\n        getPlatformCache().set(version, platform);\r\n    }\r\n}\r\nfunction getPlatform(options) {\r\n    if (!platformSharing) {\r\n        return options.platformFactory();\r\n    }\r\n    const versionResult = options.version();\r\n    const version = versionResult === VERSION.full ? VERSION : versionResult;\r\n    const versionKey = typeof version === 'string' ? version : version.full;\r\n    let platform = getPlatformCache().get(version) ||\r\n        (legacyMode && getLegacyPlatform(versionKey));\r\n    if (!platform) {\r\n        platform = options.platformFactory();\r\n        setPlatform(VERSION, platform);\r\n    }\r\n    return platform;\r\n}\r\nfunction getNgZone() {\r\n    return getGlobalStateSlice((state) => state.ngZone) || getLegacyNgZone();\r\n}\r\nfunction shareNgZone(zone) {\r\n    if (ngZoneSharing) {\r\n        legacyMode && setLegacyNgZone(zone);\r\n        setGlobalStateSlice({ ngZone: zone });\r\n    }\r\n}\r\nfunction bootstrap(module, options) {\r\n    var _a;\r\n    ngZoneSharing = options.ngZoneSharing !== false;\r\n    platformSharing = options.platformSharing !== false;\r\n    legacyMode = options.activeLegacyMode !== false;\r\n    options.platformFactory = options.platformFactory || (() => platformBrowser());\r\n    options.version = options.version || (() => VERSION);\r\n    options.production && enableProdMode();\r\n    if (ngZoneSharing && !((_a = options.compilerOptions) === null || _a === void 0 ? void 0 : _a.ngZone)) {\r\n        options.compilerOptions = options.compilerOptions || {};\r\n        options.compilerOptions.ngZone = getNgZone();\r\n    }\r\n    return getPlatform(options).bootstrapModule(module, options.compilerOptions).then(ref => {\r\n        if (options.appType === 'shell') {\r\n            shareShellZone(ref.injector);\r\n        }\r\n        else if (options.appType === 'microfrontend') {\r\n            connectMicroFrontendRouter(ref.injector);\r\n        }\r\n        return ref;\r\n    });\r\n}\r\nfunction shareShellZone(injector) {\r\n    const ngZone = injector.get(NgZone, null);\r\n    if (!ngZone) {\r\n        console.warn('No NgZone to share found');\r\n        return;\r\n    }\r\n    shareNgZone(ngZone);\r\n}\r\nfunction connectMicroFrontendRouter(injector) {\r\n    const router = injector.get(Router);\r\n    if (!router) {\r\n        console.warn('No router to connect found');\r\n        return;\r\n    }\r\n    connectRouter(router);\r\n}\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { ModuleFederationToolsModule, WebComponentWrapper, bootstrap, connectRouter, endsWith, getMajor, shareNgZone, startsWith };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}